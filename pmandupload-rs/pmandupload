#!/usr/bin/env bash
# Wrapper script for pmandupload-rs (Rust version)
# This script can replace the original pmandupload.sh

set -euo pipefail

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
BINARY="$SCRIPT_DIR/target/release/pmandupload"

if [[ ! -f "$BINARY" ]]; then
    echo "Error: Binary not found at $BINARY"
    echo "Please build the project first:"
    echo "  cd $SCRIPT_DIR"
    echo "  cargo build --release"
    exit 1
fi

# Pass through all environment variables and arguments
exec "$BINARY" "$@"
